****
**** This file is now AUTHORATATIVE.
****
**** The older, live file is here:
****           http://ietherpad.com/hMrw0URncq
****


=== BARLEY TODO ===

--- Tasks ----

[j] make barely start work outside of ghci
[m] broke reloading somehow...
[m] make common error and warn functions for command line processing
[m] view source page
    [m] request handler option for templates
    [m] read file and display contents
    [] open file as link in separate window
    [] open file via file: link
    [] edit file (js to convert text to edit field
    [] save edits (js to submit, then reload?)
    [] side-by-side view (via iframe)
    [] refresh of either iframe and/or link in separate window
[] refactor barley IDE page utilities into a common module (Index & Source)

[*j] write index.hs that gives the user a hello and what to do next
[] updated template.hs that is a basic hello page
    [] what to do
    [] suggested re-edit in haskell comments
    [] reload button
[] create add page step to index.html
[] create addpage.hs page with form w/name and description
[] generate new page from addpage.hs form
[] error page give instructions for what to do
[*j] unload modules after evaluating 'page'
[] scaffold.css should probably be named something better like barley.css
[] Text.Html is forcing us to use prettyHtml instead of renderHtml
    [] either wrap the body contents in a div, and make page return an [Html]
        -- which is icky 'cause then the top html element isn't clear to users
    [] switch to some other HTML library
[] handle errors during copyTree

--- User Stories ---

User downloads, unpacks, installs (ick)
    barley start
    opens browser
    sees nice intro page

User runs barley w/o a command
    some helpful text is printed out, suggesting commands that could be run
    such as
        barley start playground

User goes intro page
    clicks on Sample page
    sees result
    told to go to file
    opens file
    file contains text on a suggested edit
    user returns to browser
    reloads
    "WOW"

User goes to intro page
    clicks add
    fills out form w/name and description
    system generates file
    goes to file to edit
    reloads
    "WOW"

User reloads a new page
    there is a compilation error
    error page directs them what to do next
    the edits in the file
    there is a reload button

User types url
    do the casing, load the right stuff
    
--- future User Stories ----
There is file of allowed URL to file mappings so that not ALL of the project dir is mapped

When running "barley init", if the current dir is not-empty, it won't overwrite
    there is a "--force" flag to overwrite that

The user can edit .hs source in the web browser
    (probably using http://codemirror.net/ )
    
=== USER STORIES DONE ===
Running barley at the command line:
    barley has three commands: "start", "init", and "run"
    "start" is just "init" if needed followed by "run"
    all three commands take an optional directory to be the project directory
        if none is given, then the project directory defaults to the current directory
    "init" copies the "seed" skeleton project into the project directory
        it creates the project directory if needed
        it fails if the project directory isn't empty
        if the current directory contains a "seed" directory, that is used as the seed
            otherwise, the "seed" directory in the data dir (via cabal install) is used
            if even that is missing, "init" fails and complains
    "run" checks that the project directory is okay - that is, was once "init"'d
        if fails if it wasn't

=== TODO DONE ===
[m] create a playground dir and exclude it's contents (but not it) from the repo
[m] notice that the directory started in is empty and call init-project
[m] if init is called from start, then it shouldn't complain about the non-empty dir
[m] init and start take an optional directory to cd into first
[m] init-project should copy a set of files from data dir
    [m] move Init.hs to Project.hs
    [m] provide init, check, and enter functions
    [m] rename skeleton to seed
    [m] use a .barley-project file to check if project dir is really a project dir
    [m] look for seed in current dir first, before looking at path's from GHC
    [m] remove playground from repo
[m] when providing a project directory on the command line with init, create if it doesn't exist
[m] move template.hs, etc... to data-dir
[m] create scaffold.css in data dir
[m] make index page look like a tutorial with task steps
    [] step 2 points at Template.hs
    [] add sp,e css so it is at least nice to look at
[m] output encoding should be correct: UTF-8
[m] static files are served with incorrect MIME type
[m] add a README file
[m] side bars


=== NOTES FOR SNAP ===
writeText writes out in UTF-8 but doesn't make that garuntee in the docs

=== NOTES FOR HTML ===
renderHtml is BROKEN - it puts things inside an extra HTML element!?!?!?


